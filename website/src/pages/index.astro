---
import Layout from '../layouts/Layout.astro';
import '../styles/global.css';

// Feature data for the expanded showcase
const collectionViews = [
	{ 
		title: 'Grid View', 
		images: ['/Screenshots/Grid View.png', '/Screenshots/Grid View 1.png', '/Screenshots/Grid View 2.png', '/Screenshots/Grid View 3.png', '/Screenshots/Grid View 4.png'], 
		desc: 'A refined presentation of your library, balancing visual impact with efficient browsing.<br/>The gold standard for any digital collection, optimized for clarity.' 
	},
	{ 
		title: 'List View', 
		images: ['/Screenshots/List View.png', '/Screenshots/List View 1.png', '/Screenshots/List View 2.png', '/Screenshots/List View 3.png', '/Screenshots/List View 4.png'], 
		desc: 'Engineered for the organized mind.<br/>A high-density information display that puts your metadata front and center for rapid sorting and surgical management.' 
	},
	{ 
		title: 'Logo View', 
		images: ['/Screenshots/Logo View.png', '/Screenshots/Logo View 1.png', '/Screenshots/Logo View 2.png', '/Screenshots/Logo View 3.png', '/Screenshots/Logo View 4.png'], 
		desc: 'Strip away the noise and let the branding shine.<br/>A minimalist approach that treats your games like a gallery of icons, focusing purely on visual identity.' 
	},
	{ 
		title: 'Carousel View', 
		images: ['/Screenshots/Carousel View.png', '/Screenshots/Carousel View 1.png', '/Screenshots/Carousel View 2.png', '/Screenshots/Carousel View 3.png', '/Screenshots/Carousel View 4.png'], 
		desc: 'Transform your library into a cinematic showcase.<br/>Full-bleed artwork and sweeping transitions create an atmospheric experience that feels alive.' 
	},
];

const managementTools = [
	{ 
		title: 'Metadata Mastery', 
		images: ['/Screenshots/Game Manager - Metadata.png', '/Screenshots/Game Manager - Metadata 1.png', '/Screenshots/Game Manager - Metadata 2.png'], 
		desc: 'Surgical precision for your game data.<br/>Edit titles, release dates, and developers with a suite of professional tools built for the librarian in every gamer.' 
	},
	{ 
		title: 'Visual Search', 
		images: ['/Screenshots/Game Manager - Image Search.png', '/Screenshots/Game Manager - Image Search 1.png', '/Screenshots/Game Manager - Image Search 2.png'], 
		desc: 'Never settle for low-resolution assets again.<br/>Our integrated high-definition search engine fetches stunning box art and banners from multiple sources instantly.' 
	},
	{ 
		title: 'Contextual Ease', 
		images: ['/Screenshots/Game Right Click Menu.png'], 
		desc: 'Intuitive navigation that feels like second nature.<br/>Effortless right-click menus and smart shortcuts keep the power exactly where you expect it to be.' 
	},
];

const advancedFeatures = [
	{ title: 'Unified Importer', images: ['/Screenshots/Game Importer.png'], desc: 'Break down the walls between platforms.<br/>An intelligent one-click integration for Steam, Epic, GOG, and beyond, consolidated into a single universe.' },
	{ title: 'Deep Configuration', images: ['/Screenshots/Settings.png'], desc: 'Your library, your rules.<br/>From performance tweaks to sophisticated UI behavior, customize every layer of Onyx to fit your exact specifications.' },
	{ title: 'View Personalization', images: ['/Screenshots/View Options.png'], desc: 'Total aesthetic control for the discerning user.<br/>Adjust scaling, spacing, and accent colors to create a workspace that is uniquely yours.' },
];
---

<Layout title="Onyx | The Premium Unified Game Library">
	<main class="min-h-screen bg-[#0b0e14] selection:bg-onyx-accent/30 overflow-hidden">
		<!-- Navigation: Minimalist -->
		<nav class="fixed top-0 w-full z-50 px-8 py-4 onyx-nav-thin">
			<div class="max-w-7xl mx-auto flex items-center justify-between">
				<div class="flex items-center gap-3">
					<img src="/logo.svg" alt="Onyx Logo" class="w-8 h-8" />
					<span class="text-xl font-bold tracking-tighter">Onyx</span>
				</div>
				<div class="flex items-center gap-6">
					<div class="hidden md:flex items-center gap-6 mr-2">
						<!-- Ko-fi Icon -->
						<a href="https://ko-fi.com/oynxgilga" target="_blank" title="Support Development" class="flex-shrink-0 text-slate-400 hover:text-onyx-accent transition-all hover:scale-110">
							<svg class="w-5 h-5 block" fill="currentColor" viewBox="0 0 24 24"><path d="M23.881 8.948c-.773-4.085-4.859-4.593-4.859-4.593H.724c-.604 0-.679.798-.679.798s-.082 7.324-.022 11.822c.164 2.424 2.586 2.672 2.586 2.672s8.267-.023 11.966-.049c2.438-.426 2.683-2.566 2.658-3.734c4.352.24 7.422-2.831 6.649-6.916zm-11.062 3.511c-1.246 1.453-4.011 3.976-4.011 3.976s-.121.119-.31.023c-.076-.057-.108-.09-.108-.09s-2.115-2.353-3.132-3.645c-1.078-1.353.023-2.347.533-2.008c.15.111.45.318.918.64c.243.171.428.243.551.243c.125 0 .237-.089.479-.281c.517-.549 1.157-1.16 1.157-1.16s1.008-.823 1.965.176c1.053 1.096.204 1.836.204 1.836s-.19.168-.254.276zm7.261-.318c-1.127.172-1.742-.164-1.742-.164V7.123s.548-.106 1.543-.069c1.942.062 2.383 1.413 2.155 3.036c-.147 1.054-.83 2.053-1.956 2.051z"/></svg>
						</a>
						<!-- Reddit Icon -->
						<a href="https://www.reddit.com/r/OnyxLauncher/" target="_blank" title="Reddit Subreddit" class="flex-shrink-0 text-slate-400 hover:text-onyx-accent transition-all hover:scale-110">
							<svg class="w-5 h-5 block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.056 1.597.04.21.06.423.06.637 0 2.512-3.493 4.549-7.801 4.549-4.308 0-7.801-2.037-7.801-4.549 0-.214.021-.427.06-.637a1.756 1.756 0 0 1-1.056-1.597c0-.968.786-1.754 1.754-1.754.463 0 .875.18 1.185.472 1.202-.846 2.84-1.398 4.646-1.472l.803-3.747 2.364.523a1.25 1.25 0 0 1 0 .142zM8.477 14.126a1.21 1.21 0 1 0 0-2.418 1.21 1.21 0 0 0 0 2.418zm7.046 0a1.21 1.21 0 1 0 0-2.418 1.21 1.21 0 0 0 0 2.418zm-3.007 3.328c-.141 0-.28-.012-.417-.035-.558-.093-1.05-.386-1.395-.81a.488.488 0 0 1 .76-.61c.21.26.51.442.853.499a1.457 1.457 0 0 0 .72-.05.488.488 0 0 1 .425.877c-.287.14-.622.23-.946.23z"/></svg>
						</a>
						<!-- Discord Icon -->
						<a href="https://discord.gg/m2dgd4ZUPu" target="_blank" title="Discord Server" class="flex-shrink-0 text-slate-400 hover:text-onyx-accent transition-all hover:scale-110">
							<svg class="w-5 h-5 block" fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.419-2.157 2.419zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42.001 1.333-.956 2.419-2.157 2.419z"/></svg>
						</a>
					</div>
					<button class="px-4 py-1.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-[10px] font-bold tracking-widest transition-all hover:scale-105 cursor-default">Coming Soon</button>
				</div>
			</div>
		</nav>

		<!-- Hero Section: Ultimate Minimalism -->
		<section class="relative min-h-[70vh] flex items-center justify-center overflow-hidden px-8 md:px-24">
			<!-- Background Fanart Blur -->
			<div class="absolute inset-0 z-0 scale-110 opacity-20 blur-[80px]">
				<img src="/Screenshots/Carousel View.png" class="w-full h-full object-cover" />
			</div>
			
			<div class="relative z-10 w-full max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 items-center gap-12">
				<!-- Left: 3D Mouse-Following Cube -->
				<div class="flex justify-center md:justify-start md:pl-16 perspective-container">
					<div class="onyx-cube-wrapper">
						<div class="onyx-cube" id="mouse-cube">
							<div class="cube-face front"><div class="pip"></div></div>
							<div class="cube-face back"><div class="pip"></div></div>
							<div class="cube-face right"><div class="pip"></div></div>
							<div class="cube-face left"><div class="pip"></div></div>
							<div class="cube-face top"><div class="pip"></div></div>
							<div class="cube-face bottom"><div class="pip"></div></div>
						</div>
						<!-- Emerald Glow Core -->
						<div class="cube-glow"></div>
					</div>
				</div>

				<!-- Right: Tagline -->
				<div class="text-center md:text-left">
					<p class="text-4xl md:text-6xl text-slate-200 leading-tight font-light tracking-wide uppercase italic relative z-10">
						The Premium<br/>
						<span class="text-onyx-accent font-bold">Unified Game Library</span>
					</p>
				</div>
			</div>
		</section>

		<!-- The Full Experience: Showcase -->
		<div class="relative z-10 py-24 px-12 bg-gradient-to-b from-transparent via-[#0b0e14] to-[#0b0e14] -mt-32">
			<div class="max-w-7xl mx-auto space-y-24">
				
				<!-- Unified Feature Showcase -->
				<section>
					<div class="space-y-32">
						{[...collectionViews, ...managementTools, ...advancedFeatures].map((item, index) => (
							<div class={`flex flex-col md:items-center gap-16 lg:gap-32 ${index % 2 === 1 ? 'md:flex-row-reverse' : 'md:flex-row'}`}>
								<!-- Image Side -->
								<div class="md:flex-[1.6] group relative bg-[#1a1f2e] rounded-3xl overflow-hidden border border-white/5 transition-all duration-700 hover:border-onyx-accent/50 hover:shadow-[0_0_80px_rgba(14,165,233,0.15)] cursor-pointer lightbox-trigger" data-images={JSON.stringify(item.images)}>
									<div class="aspect-video overflow-hidden relative carousel-container">
										{item.images.map((img, idx) => (
											<img src={img} alt={`${item.title} - ${idx}`} class={`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ${idx === 0 ? 'opacity-100' : 'opacity-0'} carousel-img`} />
										))}
										{item.images.length > 1 && (
											<div class="absolute bottom-6 right-6 bg-black/60 backdrop-blur-md px-4 py-2 rounded-xl text-[12px] font-bold uppercase tracking-widest text-white/90 border border-white/10 z-10 carousel-counter">
												1 / {item.images.length}
											</div>
										)}
									</div>
								</div>

								<!-- Text Side -->
								<div class="md:flex-1 space-y-8">
									<h3 class="text-4xl lg:text-5xl font-black tracking-tighter leading-none">{item.title}</h3>
									<p class="text-slate-400 text-xl lg:text-2xl leading-relaxed max-w-xl font-light italic opacity-80" set:html={item.desc}>
									</p>
								</div>
							</div>
						))}
					</div>
				</section>
			</div>
		</div>

		<!-- Community Section -->
		<section class="py-24 px-12 relative overflow-hidden bg-[#0b0e14]">
			<div class="max-w-7xl mx-auto flex flex-col items-center text-center space-y-12">
				<div class="space-y-4">
					<h2 class="text-5xl font-black uppercase tracking-tighter italic">Join The Community</h2>
					<p class="text-xl text-slate-400 font-light max-w-2xl mx-auto px-4 italic">
						Stay updated with the latest releases and developmental updates directly from our community hubs.
					</p>
				</div>
				
				<div class="grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-3xl">
					<a href="https://www.reddit.com/r/OnyxLauncher/" target="_blank" class="group p-10 bg-[#1a1f2e] border border-white/5 rounded-2xl hover:border-onyx-accent transition-all duration-500 hover:shadow-[0_0_40px_rgba(14,165,233,0.1)]">
						<div class="w-12 h-12 text-onyx-accent mb-6 mx-auto">
							<svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.056 1.597.04.21.06.423.06.637 0 2.512-3.493 4.549-7.801 4.549-4.308 0-7.801-2.037-7.801-4.549 0-.214.021-.427.06-.637a1.756 1.756 0 0 1-1.056-1.597c0-.968.786-1.754 1.754-1.754.463 0 .875.18 1.185.472 1.202-.846 2.84-1.398 4.646-1.472l.803-3.747 2.364.523a1.25 1.25 0 0 1 0 .142zM8.477 14.126a1.21 1.21 0 1 0 0-2.418 1.21 1.21 0 0 0 0 2.418zm7.046 0a1.21 1.21 0 1 0 0-2.418 1.21 1.21 0 0 0 0 2.418zm-3.007 3.328c-.141 0-.28-.012-.417-.035-.558-.093-1.05-.386-1.395-.81a.488.488 0 0 1 .76-.61c.21.26.51.442.853.499a1.457 1.457 0 0 0 .72-.05.488.488 0 0 1 .425.877c-.287.14-.622.23-.946.23z"/></svg>
						</div>
						<h3 class="text-3xl font-bold mb-3">Reddit</h3>
						<p class="text-slate-400 italic">Official community discussion and announcements.</p>
					</a>
					<a href="https://discord.gg/m2dgd4ZUPu" target="_blank" class="group p-10 bg-[#1a1f2e] border border-white/5 rounded-2xl hover:border-onyx-accent transition-all duration-500 hover:shadow-[0_0_40px_rgba(14,165,233,0.1)]">
						<div class="w-12 h-12 text-onyx-accent mb-6 mx-auto">
							<svg fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.419-2.157 2.419zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42.001 1.333-.956 2.419-2.157 2.419z"/></svg>
						</div>
						<h3 class="text-3xl font-bold mb-3">Discord</h3>
						<p class="text-slate-400 italic">Direct support and community hangouts.</p>
					</a>
				</div>
			</div>
		</section>

		<!-- Support Section -->
		<section class="py-32 px-12 relative overflow-hidden bg-onyx-accent/5">
			<div class="max-w-7xl mx-auto flex flex-col items-center text-center space-y-12">
				<div class="space-y-4">
					<h2 class="text-6xl font-black uppercase tracking-tighter italic">Support Onyx</h2>
					<p class="text-2xl text-slate-400 font-light max-w-2xl mx-auto italic">
						Help sustain independent development and power the future of your library.
					</p>
				</div>
				<a href="https://ko-fi.com/oynxgilga" target="_blank" class="group flex items-center gap-6 px-12 py-6 bg-onyx-accent text-slate-950 font-black uppercase tracking-widest text-xl rounded-full transition-all hover:scale-105 hover:shadow-[0_0_60px_rgba(14,165,233,0.4)]">
					<svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M23.881 8.948c-.773-4.085-4.859-4.593-4.859-4.593H.724c-.604 0-.679.798-.679.798s-.082 7.324-.022 11.822c.164 2.424 2.586 2.672 2.586 2.672s8.267-.023 11.966-.049c2.438-.426 2.683-2.566 2.658-3.734c4.352.24 7.422-2.831 6.649-6.916zm-11.062 3.511c-1.246 1.453-4.011 3.976-4.011 3.976s-.121.119-.31.023c-.076-.057-.108-.09-.108-.09s-2.115-2.353-3.132-3.645c-1.078-1.353.023-2.347.533-2.008c.15.111.45.318.918.64c.243.171.428.243.551.243c.125 0 .237-.089.479-.281c.517-.549 1.157-1.16 1.157-1.16s1.008-.823 1.965.176c1.053 1.096.204 1.836.204 1.836s-.19.168-.254.276zm7.261-.318c-1.127.172-1.742-.164-1.742-.164V7.123s.548-.106 1.543-.069c1.942.062 2.383 1.413 2.155 3.036c-.147 1.054-.83 2.053-1.956 2.051z"/></svg>
					Support via Ko-fi
				</a>
			</div>
		</section>

		<!-- Footer Section: Minimalist CTA -->
		<footer class="py-32 px-12 border-t border-white/5 relative bg-[#0b0e14]">
			<div class="max-w-4xl mx-auto text-center space-y-12">
				<h2 class="text-6xl md:text-8xl font-black uppercase tracking-tighter italic opacity-80">The Future of Play</h2>
				<p class="text-xl text-slate-400 font-light tracking-wide italic">Download Onyx and reclaim your library.</p>
				<div class="flex flex-col sm:flex-row items-center justify-center gap-6">
					<button class="onyx-btn-play !px-12 !py-4 text-xl !rounded-none uppercase tracking-widest font-black transition-all hover:tracking-[0.2em] cursor-default opacity-80 hover:opacity-100">
						Coming Soon
					</button>
				</div>
				<div class="pt-24 flex flex-col items-center justify-center gap-8">
					<p class="max-w-2xl text-[10px] text-center leading-relaxed font-sans normal-case tracking-normal text-slate-500">
						Onyx is an independent project and is not affiliated with, endorsed by, or connected to Valve Corporation, Epic Games, GOG.com, or any other third-party game platforms. All trademarks, service marks, and company names are the property of their respective owners.
					</p>
				</div>
			</div>
		</footer>
		<!-- Lightbox Backdrop -->
		<div id="lightbox" class="fixed inset-0 z-[100] bg-black/95 flex items-center justify-center p-8 md:p-24 opacity-0 pointer-events-none transition-opacity duration-500 cursor-zoom-out">
			<!-- Prev Button -->
			<button id="prev-lightbox" class="absolute left-4 md:left-12 z-[110] text-white/30 hover:text-white transition-all hover:scale-110 p-4">
				<svg class="w-10 h-10 md:w-16 md:h-16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 19l-7-7 7-7"></path></svg>
			</button>

			<img id="lightbox-img" src="" class="max-w-full max-h-full rounded-lg shadow-2xl transform scale-95 transition-transform duration-500 cursor-default" />
			
			<!-- Next Button -->
			<button id="next-lightbox" class="absolute right-4 md:right-12 z-[110] text-white/30 hover:text-white transition-all hover:scale-110 p-4">
				<svg class="w-10 h-10 md:w-16 md:h-16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5l7 7-7 7"></path></svg>
			</button>

			<button id="close-lightbox" class="absolute top-8 right-8 text-white/50 hover:text-white transition-colors z-[120]">
				<svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12"></path></svg>
			</button>

			<!-- Counter -->
			<div id="lightbox-counter" class="absolute bottom-12 left-1/2 -translate-x-1/2 bg-white/5 backdrop-blur-xl px-4 py-2 rounded-full border border-white/10 text-xs font-bold tracking-[0.3em] uppercase opacity-50">
				1 / 5
			</div>

			<!-- Thumbnail Reel -->
			<div id="lightbox-thumbnails" class="absolute bottom-24 left-1/2 -translate-x-1/2 flex gap-3 p-3 bg-black/40 backdrop-blur-2xl rounded-2xl border border-white/5 opacity-0 translate-y-4 transition-all duration-700 pointer-events-none">
				<!-- Thumbnails injected via JS -->
			</div>
		</div>

		<!-- Back to Top Button -->
		<button id="back-to-top" class="fixed bottom-8 right-8 z-[60] bg-[#1a1f2e] hover:bg-[#252b3d] border border-onyx-accent/50 p-4 rounded-full text-onyx-accent hover:text-white transition-all duration-500 opacity-0 pointer-events-none hover:scale-110 group shadow-[0_0_30px_rgba(14,165,233,0.3)] hover:shadow-[0_0_50px_rgba(14,165,233,0.5)]">
			<svg class="w-6 h-6 transform transition-transform group-hover:-translate-y-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7 7 7M12 3v18"></path>
			</svg>
		</button>
	</main>

	<style>
	<style>
		@keyframes cube-float {
			0%, 100% { transform: translateY(0px); }
			50% { transform: translateY(-20px); }
		}

		.onyx-cube-wrapper {
			position: relative;
			width: 160px;
			height: 160px;
			perspective: 1000px;
			animation: cube-float 6s ease-in-out infinite;
		}

		@media (min-width: 768px) {
			.onyx-cube-wrapper {
				width: 256px;
				height: 256px;
				perspective: 1200px;
			}
		}

		.onyx-cube {
			width: 100%;
			height: 100%;
			position: absolute;
			transform-style: preserve-3d;
			transform: rotateX(-30deg) rotateY(-45deg); 
		}

		.cube-face {
			position: absolute;
			width: 100%;
			height: 100%;
			background: linear-gradient(to bottom, #334155 0%, #020617 100%);
			border: 2px solid #0ea5e9;
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 0 0 30px rgba(14, 165, 233, 0.1);
			backface-visibility: visible;
		}

		.pip {
			width: 45%;
			height: 45%;
			border-radius: 50%;
			position: relative;
			border: 4px solid #ffffff;
			background: transparent;
			box-shadow: 
				0 0 15px rgba(14, 165, 233, 0.9), /* Strong blue aura */
				inset 0 0 10px rgba(14, 165, 233, 0.6); /* Inner blue depth */
			filter: drop-shadow(0 0 3px rgba(14, 165, 233, 1)); /* Hard blue edge */
		}

		@media (min-width: 768px) {
			.pip {
				border: 8px solid #ffffff;
				box-shadow: 
					0 0 25px rgba(14, 165, 233, 0.9),
					inset 0 0 15px rgba(14, 165, 233, 0.6);
				filter: drop-shadow(0 0 5px rgba(14, 165, 233, 1));
			}
		}

		/* Face Positions - Use CSS variables for responsiveness */
		.front  { transform: rotateY(  0deg) translateZ(calc(var(--cube-size, 160px) / 2)); }
		.back   { transform: rotateY(180deg) translateZ(calc(var(--cube-size, 160px) / 2)); }
		.right  { transform: rotateY( 90deg) translateZ(calc(var(--cube-size, 160px) / 2)); }
		.left   { transform: rotateY(-90deg) translateZ(calc(var(--cube-size, 160px) / 2)); }
		.top    { transform: rotateX( 90deg) translateZ(calc(var(--cube-size, 160px) / 2)); }
		.bottom { transform: rotateX(-90deg) translateZ(calc(var(--cube-size, 160px) / 2)); }

		:root { --cube-size: 160px; }
		@media (min-width: 768px) { :root { --cube-size: 256px; } }

		.cube-glow {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			width: 250px;
			height: 250px;
			background: radial-gradient(circle, rgba(14, 165, 233, 0.15) 0%, transparent 70%);
			filter: blur(50px);
			pointer-events: none;
			z-index: -1;
		}

		@media (min-width: 768px) {
			.cube-glow {
				width: 450px;
				height: 450px;
				filter: blur(80px);
			}
		}

		#lightbox.active {
			opacity: 1;
			pointer-events: auto;
		}

		#lightbox.active #lightbox-img {
			transform: scale(1);
		}
	</style>

	<script>
		// Physics-based Mouse Tracking & Idle Spin
		const cube = document.getElementById('mouse-cube');
		
		// State
		let currentRotX = -30;
		let currentRotY = -45;
		let targetRotX = -30;
		let targetRotY = -45;
		
		let lastMouseX = 0;
		let lastMouseY = 0;
		let lastMoveTime = Date.now();
		let isIdle = false;

		// Config
		const SENSITIVITY = 0.3; // "Move slower than mouse"
		const DAMPING = 0.05; // "Shouldn't instant stop" (Lower = smoother/heavier)
		const IDLE_SPEED = 0.2; // Slow spin when idle
		const IDLE_TIMEOUT = 1000; // Time before auto-spin kicks in

		if (cube) {
			// Initialize mouse position
			lastMouseX = window.innerWidth / 2;
			lastMouseY = window.innerHeight / 2;

			document.addEventListener('mousemove', (e) => {
				const now = Date.now();
				const dt = now - lastMoveTime;
				lastMoveTime = now;
				isIdle = false;

				// Calculate delta
				const deltaX = e.clientX - lastMouseX;
				const deltaY = e.clientY - lastMouseY;

				lastMouseX = e.clientX;
				lastMouseY = e.clientY;

				// Apply to target (Delta-based control)
				targetRotY += deltaX * SENSITIVITY;
				targetRotX -= deltaY * SENSITIVITY;
				
				// Clamp X to prevent flipping upside down visually (optional, feels better)
				targetRotX = Math.max(-90, Math.min(90, targetRotX));
			});

			const animate = () => {
				const now = Date.now();
				
				// Check for idle state
				if (now - lastMoveTime > IDLE_TIMEOUT) {
					isIdle = true;
				}

				if (isIdle) {
					// Auto-spin slowly
					targetRotY += IDLE_SPEED;
					// Gently return X to a nice viewing angle if it's too extreme
					targetRotX += (-30 - targetRotX) * 0.02;
				}

				// Smoothly interpolate current -> target (Inertia)
				// Lerp formula: current = current + (target - current) * damping
				currentRotX += (targetRotX - currentRotX) * DAMPING;
				currentRotY += (targetRotY - currentRotY) * DAMPING;

				if (cube) {
					// Use direct style update for performance
					cube.style.transform = `rotateX(${currentRotX}deg) rotateY(${currentRotY}deg)`;
				}
				
				requestAnimationFrame(animate);
			};
			
			animate();
		}

		// Back to Top Logic
		const backToTopBtn = document.getElementById('back-to-top');
		if (backToTopBtn) {
			window.addEventListener('scroll', () => {
				if (window.scrollY > 500) {
					backToTopBtn.classList.remove('opacity-0', 'pointer-events-none');
					backToTopBtn.classList.add('opacity-100', 'pointer-events-auto');
				} else {
					backToTopBtn.classList.add('opacity-0', 'pointer-events-none');
					backToTopBtn.classList.remove('opacity-100', 'pointer-events-auto');
				}
			});

			backToTopBtn.addEventListener('click', () => {
				window.scrollTo({
					top: 0,
					behavior: 'smooth'
				});
			});
		}

		// Lightbox & Gallery Logic
		const lightbox = document.getElementById('lightbox');
		const lightboxImg = document.getElementById('lightbox-img') as HTMLImageElement;
		const lightboxCounter = document.getElementById('lightbox-counter');
		const lightboxThumbs = document.getElementById('lightbox-thumbnails');
		const triggers = document.querySelectorAll('.lightbox-trigger');
		
		let currentGallery: string[] = [];
		let currentImgIndex = 0;

		const updateLightbox = () => {
			if (lightboxImg && currentGallery.length > 0) {
				lightboxImg.src = currentGallery[currentImgIndex];
				if (lightboxCounter) {
					lightboxCounter.textContent = `${currentImgIndex + 1} / ${currentGallery.length}`;
					lightboxCounter.style.display = currentGallery.length > 1 ? 'block' : 'none';
				}

				// Update Thumbnails
				if (lightboxThumbs) {
					const thumbs = lightboxThumbs.querySelectorAll('.lightbox-thumb');
					thumbs.forEach((thumb, idx) => {
						if (idx === currentImgIndex) {
							thumb.classList.add('border-onyx-accent', 'scale-110', 'opacity-100');
							thumb.classList.remove('border-white/10', 'opacity-40');
						} else {
							thumb.classList.remove('border-onyx-accent', 'scale-110', 'opacity-100');
							thumb.classList.add('border-white/10', 'opacity-40');
						}
					});
				}
			}
			// Toggle buttons visibility
			const prevBtn = document.getElementById('prev-lightbox');
			const nextBtn = document.getElementById('next-lightbox');
			if (prevBtn && nextBtn) {
				const visible = currentGallery.length > 1 ? 'opacity-100 pointer-events-auto' : 'opacity-0 pointer-events-none';
				prevBtn.className = `absolute left-4 md:left-12 z-[110] text-white/30 hover:text-white transition-all hover:scale-110 p-4 ${visible}`;
				nextBtn.className = `absolute right-4 md:right-12 z-[110] text-white/30 hover:text-white transition-all hover:scale-110 p-4 ${visible}`;
			}
		};

		const initThumbnails = () => {
			if (!lightboxThumbs) return;
			lightboxThumbs.innerHTML = '';
			if (currentGallery.length <= 1) {
				lightboxThumbs.classList.add('opacity-0', 'translate-y-4', 'pointer-events-none');
				return;
			}

			currentGallery.forEach((img, idx) => {
				const thumb = document.createElement('img');
				thumb.src = img;
				thumb.className = `lightbox-thumb w-16 h-10 object-cover rounded-md border-2 transition-all duration-300 cursor-pointer hover:opacity-100 ${idx === currentImgIndex ? 'border-onyx-accent scale-110' : 'border-white/10 opacity-40 hover:scale-105'}`;
				thumb.addEventListener('click', (e) => {
					e.stopPropagation();
					currentImgIndex = idx;
					updateLightbox();
				});
				lightboxThumbs.appendChild(thumb);
			});

			lightboxThumbs.classList.remove('opacity-0', 'translate-y-4', 'pointer-events-none');
		};

		triggers.forEach(trigger => {
			trigger.addEventListener('click', (e) => {
				const imagesData = (trigger as HTMLElement).dataset.images;
				if (imagesData && lightbox && lightboxImg) {
					currentGallery = JSON.parse(imagesData);
					currentImgIndex = 0;
					initThumbnails();
					updateLightbox();
					lightbox.classList.add('active');
					document.body.style.overflow = 'hidden';
				}
			});
		});

		const nextImg = (e?: Event) => {
			if (e) e.stopPropagation();
			if (currentGallery.length <= 1) return;
			currentImgIndex = (currentImgIndex + 1) % currentGallery.length;
			updateLightbox();
		};

		const prevImg = (e?: Event) => {
			if (e) e.stopPropagation();
			if (currentGallery.length <= 1) return;
			currentImgIndex = (currentImgIndex - 1 + currentGallery.length) % currentGallery.length;
			updateLightbox();
		};

		document.getElementById('next-lightbox')?.addEventListener('click', nextImg);
		document.getElementById('prev-lightbox')?.addEventListener('click', prevImg);

		const closeLightbox = () => {
			if (lightbox) {
				lightbox.classList.remove('active');
				document.body.style.overflow = 'auto';
			}
		};

		lightbox?.addEventListener('click', (e) => {
			if (e.target === lightbox) closeLightbox();
		});
		document.getElementById('close-lightbox')?.addEventListener('click', closeLightbox);

		// Keyboard Navigation
		window.addEventListener('keydown', (e) => {
			if (e.key === 'Escape') closeLightbox();
			if (lightbox?.classList.contains('active')) {
				if (e.key === 'ArrowRight') nextImg();
				if (e.key === 'ArrowLeft') prevImg();
			}
		});

		// Card Carousel Logic
		const carousels = document.querySelectorAll('.carousel-container');
		carousels.forEach(carousel => {
			const images = carousel.querySelectorAll('.carousel-img');
			const counter = carousel.querySelector('.carousel-counter');
			if (images.length <= 1) return;

			let index = 0;
			setInterval(() => {
				images[index].classList.remove('opacity-100');
				images[index].classList.add('opacity-0');
				index = (index + 1) % images.length;
				images[index].classList.remove('opacity-0');
				images[index].classList.add('opacity-100');
				if (counter) counter.textContent = `${index + 1} / ${images.length}`;
			}, 4000 + Math.random() * 2000); // Organic offset
		});
	</script>
</Layout>
